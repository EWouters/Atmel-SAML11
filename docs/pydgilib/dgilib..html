
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>&lt;no title&gt; &#8212; pydgilib 0.1 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <p>“”“This module provides Python bindings for DGILib.”“”</p>
<p>__author__ = “Erik Wouters &lt;ehwo(at)kth.se&gt;”
__credits__ = “Atmel Corporation. / Rev.: Atmel-42771A-DGILib_User Guide-09/2016”
__license__ = “MIT”
__version__ = “0.1”
__revision__ = ” $Id: dgilib.py 1586 2019-02-13 15:56:25Z EWouters $ ”
__docformat__ = “reStructuredText”</p>
<p>GET_STRING_SIZE = 100
NUM_INTERFACES = 10
NUM_CONFIG_IDS = 255
NUM_CALIBRATION = 255
BUFFER_SIZE = 10000000
MAX_PRINT = 100</p>
<p># Interface types
INTERFACE_TIMESTAMP  = 0x00 #   0 Service interface which appends timestamps to all received events on associated interfaces.
INTERFACE_SPI        = 0x20 #  32 Communicates directly over SPI in Slave mode.
INTERFACE_USART      = 0x21 #  33 Communicates directly over USART in Slave mode.
INTERFACE_I2C        = 0x22 #  34 Communicates directly over I2C in Slave mode.
INTERFACE_GPIO       = 0x30 #  48 Monitors and controls the state of GPIO pins.
INTERFACE_POWER_DATA = 0x40 #  64 Receives data from the attached power measurement co-processors.
INTERFACE_POWER_SYNC = 0x41 #  65 Receives sync events from the attached power measurement co-processors.
INTERFACE_RESERVED   = 0xFF # 255 Special identifier used to indicate no interface.</p>
<p># Circuit types
OLD_XAM = 0x00 #   0
XAM     = 0x10 #  16
PAM     = 0x11 #  17
UNKNOWN = 0xFF # 255</p>
<p># Return codes
IDLE               = 0x00 #   0
RUNNING            = 0x01 #   1
DONE               = 0x02 #   2
CALIBRATING        = 0x03 #   3
INIT_FAILED        = 0x10 #  16
OVERFLOWED         = 0x11 #  17
USB_DISCONNECTED   = 0x12 #  18
CALIBRATION_FAILED = 0x20 #  32</p>
<p>from ctypes import *
from time import sleep</p>
<p>from pydgilib.dgilib_discovery import DGILibDiscovery
from pydgilib.dgilib_housekeeping import DGILibHousekeeping
from pydgilib.dgilib_interface_communication import DGILibInterfaceCommunication
from pydgilib.dgilib_auxiliary import DGILibAuxiliary</p>
<dl class="docutils">
<dt>class DGILib(</dt>
<dd>DGILibDiscovery, DGILibHousekeeping, DGILibInterfaceCommunication, DGILibAuxiliary</dd>
<dt>):</dt>
<dd><p class="first">“”“Python bindings for DGILib.</p>
<p>DGILib is a Dynamic-Link Library (DLL) to help software applications communicate with Data Gateway
Interface (DGI) devices. See the Data Gateway Interface user guide for further details. DGILib handles
the low-level USB communication and adds a level of buffering for minimizing the chance of overflows.
The library helps parse data streams of high complexity. The timestamp interface is parsed and split into
separate buffers for each data source. The power interface is optionally parsed and calibrated using an
auxiliary API.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">DGILib</span><span class="p">()</span> <span class="k">as</span> <span class="n">dgilib</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">dgilib</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="go">major_version: 5, minor_version: 7, build_number: 244</span>
<span class="go">&quot;&quot;&quot;</span>
</pre></div>
</div>
<dl class="docutils">
<dt>def __init__(</dt>
<dd>self,
dgilib_path=”dgilib”,
device_index=None,
device_sn=None,
verbose=1,
<a href="#id1"><span class="problematic" id="id2">*</span></a>args,
<a href="#id3"><span class="problematic" id="id4">**</span></a>kwargs,</dd>
<dt>):</dt>
<dd><p class="first">“””
:param dgilib_path: Path to dgilib.dll (More info at: <a class="reference external" href="https://www.microchip.com/developmenttools/ProductDetails/ATPOWERDEBUGGER">https://www.microchip.com/developmenttools/ProductDetails/ATPOWERDEBUGGER</a>)
:type dgilib_path: str
:param device_index: index of the device to use, only usefull if multiple devices are connected</p>
<blockquote>
<div>(default is None, will resolve to 0)</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">type device_index:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">int or None</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param device_sn:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">the serial number of the device to use. Has higher priority than device_index
(default is None, will resolve to serial number of device 0)</td>
</tr>
<tr class="field-odd field"><th class="field-name">type device_sn:</th><td class="field-body">str or None</td>
</tr>
<tr class="field-even field"><th class="field-name">param verbose:</th><td class="field-body">set to a positive number to print more status messages (default is 0)</td>
</tr>
<tr class="field-odd field"><th class="field-name">type verbose:</th><td class="field-body">int</td>
</tr>
<tr class="field-even field"><th class="field-name">raises:</th><td class="field-body"><code class="xref py py-exc docutils literal notranslate"><span class="pre">DLLError</span></code></td>
</tr>
</tbody>
</table>
<p>“”“</p>
<p># Load the dgilib.dll
try:</p>
<blockquote>
<div>self.dgilib = cdll.LoadLibrary(dgilib_path)</div></blockquote>
<dl class="docutils">
<dt>except OSError as e:</dt>
<dd><dl class="first docutils">
<dt>raise DLLError(</dt>
<dd>f”dgilib.dll could not be found in the specicied path: {dgilib_path}.”</dd>
</dl>
<p class="last">)</p>
</dd>
</dl>
<p># DGILibDiscovery.__init__(self, <a href="#id5"><span class="problematic" id="id6">*</span></a>args, <a href="#id7"><span class="problematic" id="id8">**</span></a>kwargs)
# DGILibHousekeeping.__init__(self, <a href="#id9"><span class="problematic" id="id10">*</span></a>args, <a href="#id11"><span class="problematic" id="id12">**</span></a>kwargs)
# DGILibInterfaceCommunication.__init__(self, <a href="#id13"><span class="problematic" id="id14">*</span></a>args, <a href="#id15"><span class="problematic" id="id16">**</span></a>kwargs)
# DGILibAuxiliary.__init__(self, <a href="#id17"><span class="problematic" id="id18">*</span></a>args, <a href="#id19"><span class="problematic" id="id20">**</span></a>kwargs)</p>
<p class="last">self.device_index = device_index
self.device_sn = device_sn
self.verbose = verbose</p>
</dd>
<dt>def __enter__(self):</dt>
<dd><p class="first">“””
:raises: <code class="xref py py-exc docutils literal notranslate"><span class="pre">DeviceIndexError</span></code>
:raises: <code class="xref py py-exc docutils literal notranslate"><span class="pre">DeviceConnectionError</span></code>
“”“</p>
<p>DGILibDiscovery.__enter__(self)
DGILibHousekeeping.__enter__(self)
# DGILibInterfaceCommunication.__enter__(self)
DGILibAuxiliary.__enter__(self)</p>
<p class="last">return self</p>
</dd>
</dl>
<p>def __exit__(self, exc_type, exc_value, traceback):</p>
<blockquote class="last">
<div><p>DGILibAuxiliary.__exit__(self, exc_type, exc_value, traceback)
# DGILibInterfaceCommunication.__exit__(self, exc_type, exc_value, traceback)
DGILibHousekeeping.__exit__(self, exc_type, exc_value, traceback)
DGILibDiscovery.__exit__(self, exc_type, exc_value, traceback)</p>
<dl class="docutils">
<dt>if self.verbose:</dt>
<dd>print(“bye from DGILib”)</dd>
</dl>
</div></blockquote>
</dd>
</dl>
<p>#     def __contains__(self, attribute_name):
#         “”“Used to provide <cite>attribute_name in object</cite> syntax
#         “””
#         return hasattr(self, attribute_name)</p>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">pydgilib</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Erik Wouters.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/pydgilib/dgilib..py.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>